*** Settings ***
Library           Selenium2Library
Library           string

*** Test Cases ***
Open browser(Firefox)
    The user opens the browser

Invalid Login
    Given the user is not logged-in
    When the guest user inserts correct username
    And the guest user inserts wrong password
    And the guest user clicks the log-in button
    Then the guest user should get an error message

Login as Applicant
    Given the user is not logged-in
    When the guest user inserts applicant user name
    And the user inserts password
    And the guest user clicks the log-in button
    Then the guest user should be logged-in as Applicant and redirected to the My applications page

Log-out
    Given the Applicant goes to Dashboard page
    When The Applicant clicks the log-out button
    Then the applicant should be logged-out

Login as Applicant
    Given the user is not logged-in
    When the guest user inserts applicant user name
    And the user inserts password
    And the guest user clicks the log-in button
    Then the guest user should be logged-in as Applicant and redirected to the My applications page

*** Keywords ***
The user opens the browser
    Open Browser    http://ifs.test.worth.systems/login

the user is not logged-in
    Element Should Not Be Visible    link=My dashboard
    Element Should Not Be Visible    link=Logout

the guest user inserts correct username
    Input Text    id=id_email    applicant@applicant.org

the guest user inserts wrong password
    Input Password    id=id_password    testtest

the guest user should get an error message
    Element Should Be Visible    id=error-summary-heading-example-1
    Page Should Not Contain Element    link=Logout

the guest user inserts applicant user name
    Input Text    id=id_email    applicant@innovate.org

the user inserts password
    Input Password    id=id_password    test

the guest user clicks the log-in button
    Click Button    css=input.button

the guest user should be logged-in as Applicant and redirected to the My applications page
    Element Should Be Visible    link=Logout

The Applicant clicks the log-out button
    Click Element    link=Logout
    Set Selenium Speed    .2

the applicant should be logged-out
    Location Should Be    http://ifs.test.worth.systems/login

the Applicant goes to Dashboard page
    Go To    http://ifs.test.worth.systems/applicant/dashboard
